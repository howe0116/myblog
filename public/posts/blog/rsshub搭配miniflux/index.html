<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.89.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><title>RSShub搭配Miniflux&nbsp;&ndash;&nbsp;Howe&#39;s Blog</title><link rel="stylesheet" href="/css/core.min.4a97fa4b4b0832c60a2ac9b52e89015554573753de0172b326945e614aa4e0592d150a86391306a1c06b2fc97baaa0c3.css" integrity="sha384-Spf6S0sIMsYKKsm1LokBVVRXN1PeAXKzJpReYUqk4FktFQqGORMGocBrL8l7qqDD"><meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="RSShub搭配Miniflux" /><body><section id="header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><img class="site logo" src="/images/avatar.png" alt /><span class="site name">Howe's Blog</span></a></span>
        <span class="header right-side"><div class="nav wrap"><nav class="nav"><a class="nav item" href="/categories/">Categories</a><a class="nav item" href="/about">About</a></nav></div></span></div><div class="site slogan"><span class="title">One for all , all for one.</span></div></section><section id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">RSShub搭配Miniflux</h1><p class="article date">Friday, April 29, 2022</p></section><article class="article markdown-body"><blockquote>
<p>😏简单记录一下步骤，在Centos8.2使用Docker&amp;docker-compose</p>
</blockquote>
<h2 id="rss">RSS</h2>
<p>Really Simple Syndication（简易信息聚合），它是一种消息来源的格式规范，网站可以按照这种格式规范提供文章的标题、摘要、全文等信息给订阅用户，用户可以通过订阅不同网站 RSS 链接的方式将不同的信息源进行聚合，在一个工具里阅读这些内容。</p>
<h2 id="miniflux">Miniflux</h2>
<p>使用 Docker Compose 安装 Miniflux:</p>
<ul>
<li>
<p>创建 ~/miniflux 目录
<code>mkdir ~/miniflux &amp;&amp; cd ~/miniflux</code></p>
</li>
<li>
<p>创建 docker-compose.yml
<code>touch docker-compose.yml</code></p>
</li>
<li>
<p>修改 docker-compose.yml</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="w"> </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;3&#39;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">services</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="nt">miniflux</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">miniflux/miniflux:latest</span><span class="w">
</span><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="s2">&#34;8080:8080&#34;</span><span class="w">
</span><span class="w">    </span><span class="nt">depends_on</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">db</span><span class="w">
</span><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">ADMIN_USERNAME=admin</span><span class="w">
</span><span class="w">      </span>- <span class="l">ADMIN_PASSWORD=password</span><span class="w">
</span><span class="w">      </span>- <span class="l">BASE_URL=域名</span><span class="w">
</span><span class="w">      </span>- <span class="l">CREATE_ADMIN=1</span><span class="w">
</span><span class="w">      </span>- <span class="l">DATABASE_URL=postgres://miniflux:secret@db/miniflux?sslmode=disable</span><span class="w">
</span><span class="w">      </span>- <span class="l">RUN_MIGRATIONS=1</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="nt">db</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">postgres:latest</span><span class="w">
</span><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">POSTGRES_USER=miniflux</span><span class="w">
</span><span class="w">      </span>- <span class="l">POSTGRES_PASSWORD=secret</span><span class="w">
</span><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">miniflux-db:/var/lib/postgresql/data</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">miniflux-db</span><span class="p">:</span><span class="w">
</span><span class="w">
</span></code></pre></div></li>
<li>
<p>运行 <code>docker compose up -d</code></p>
</li>
<li>
<p>输入 <code>IP:&lt;端口&gt;</code> 应该已经可以访问 Miniflux了,接着给Miniflux弄个域名</p>
</li>
</ul>
<h2 id="配置-https">配置 HTTPS</h2>
<p>之前搭建halo时用的oneinstack配合nginx，所以依样画葫芦将Rsshub和miniFlux弄好域名</p>
<ul>
<li>
<p>使用oneinstack创建站点</p>
</li>
<li>
<p>命令:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="nb">cd</span> oneinstack
sh vhost.sh
</code></pre></div><ul>
<li>按照提示选择或输入相关信息即可</li>
</ul>
<p>注:Miniflux地址配置完得去<code>docker-compose.yml</code>把ip地址改成域名。</p>
<h3 id="使用miniflux">使用Miniflux</h3>
<ul>
<li>
<p>设置完域名，就可以域名访问Miniflux了~</p>
</li>
<li>
<p>登录后可以通过设置修改语言，时区和主题等，还能设置PWA模式(渐进式网页应用显示模式)，在PC端使用效果不错。
<img  src="https://pic.howe0116.com/img/20220430202546.png"
        alt="PWA"/></p>
</li>
<li>
<p>于<code>设置-集成</code>处启用feverAPI并设置账号密码，以配合<a href="https://github.com/yang991178/fluent-reader-lite/releases"target="_blank" rel="noopener noreferrer">Fluent 阅读器</a>
(Android)、<a href="https://play.google.com/store/apps/details?id=com.seazon.feedme"target="_blank" rel="noopener noreferrer">FeedMe</a>
(Android)、<a href="https://reederapp.com/"target="_blank" rel="noopener noreferrer">Reeder 5</a>
(IOS)等阅读器在移动端使用。</p>
</li>
</ul>
<h2 id="用rsshub获取一些订阅源">用Rsshub获取一些订阅源</h2>
<p>其实当下的网络RSS 这一信息获取方式早已式微，许多内容提供者（如<code>微信公众号</code>,<code>微博</code>等）并不会提供RSS，不过可以通过 RSSHub 项目获取一些订阅源。</p>
<blockquote>
<p><a href="https://docs.rsshub.app/"target="_blank" rel="noopener noreferrer">RSShub</a>
是一个开源、简单易用、易于扩展的 RSS 生成器，可以给任何奇奇怪怪的内容生成 RSS 订阅源。RSSHub 借助于开源社区的力量快速发展中，目前已适配数百家网站的上千项内容。
可以配合浏览器扩展 <a href="https://github.com/DIYgod/RSSHub-Radar"target="_blank" rel="noopener noreferrer">RSSHub Radar</a>
 和 移动端辅助 App <a href="https://github.com/Cay-Zhang/RSSBud"target="_blank" rel="noopener noreferrer">RSSBud</a>
(iOS) 与 <a href="https://github.com/LeetaoGoooo/RSSAid"target="_blank" rel="noopener noreferrer">RSSAid</a>
(Android) 食用</p>
</blockquote>
<h3 id="使用docker部署">使用Docker部署</h3>
<ol>
<li>
<p>安装 <code>docker pull diygod/rsshub</code></p>
</li>
<li>
<p>运行</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"> docker run -d --name rsshub -p 1200:1200 diygod/rsshub
</code></pre></div><p>3.访问 <a href="http://ip:1200"target="_blank" rel="noopener noreferrer">http://ip:1200</a>
即可，更详细的<a href="https://docs.rsshub.app/"target="_blank" rel="noopener noreferrer">看文档</a>
，然后也配个域名</p>
<h2 id="flowerss通过telegrambot订阅">flowerss：通过TelegramBot订阅</h2>
<blockquote>
<p><a href="https://flowerss-bot.vercel.app/#/?id=flowerss-bot"target="_blank" rel="noopener noreferrer">flowerss bot</a>
是一个支持应用内即时预览的 Telegram RSS Bot。</p>
</blockquote>
<h3 id="docker-部署">Docker 部署</h3>
<p>1.下载配置文件 在项目目录下新建 <code>config.yml</code> 文件</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">mkdir ~/flowerss <span class="o">&amp;&amp;</span><span class="se">\
</span><span class="se"></span>wget -O ~/flowerss/config.yml <span class="se">\
</span><span class="se"></span>    https://raw.githubusercontent.com/indes/flowerss-bot/master/config.yml.sampleCopy to clipboardErrorCopied
</code></pre></div><p>2.修改配置文件<code>config.yml</code></p>
<ul>
<li>
<p>主要是配置项<code> bot_token : Telegram上用BotFather创建机器人并拿到Token；</code></p>
</li>
<li>
<p>遇到的困难：国内服务器访问不了api.telegram.org</p>
</li>
</ul>
<p>​		解决方案：1. sock5代理(我没有)，2. CloudFlare Worker 反代,自定义telegram bot api url;</p>
<ul>
<li>填写配置项：telegram.endpoint</li>
</ul>
<p>修改配置文件中sqlite路径（如果使用sqlite作为数据库）：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">sqlite</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/root/.flowerss/data.db</span><span class="w">
</span></code></pre></div><p>3.运行</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">docker run -d -v ~/flowerss:/root/.flowerss indes/flowerss-bot
</code></pre></div><h2 id="使用感受">使用感受</h2>
<p>本来预定的计划是TelegramBot用来获取一些资讯，Miniflux则是用来订阅一些博客文章，</p>
<p>使用了三天的感受：</p>
<p>Miniflux那边就是半天没更新一章，基本每次打开都是0未读；Bot那边则刷刷刷很多资讯。</p>
</article><section class="article labels"><a class="category" href=/categories/blog/>Blog</a><a class="tag" href=/tags/blog/>Blog</a><a class="tag" href=/tags/rss/>RSS</a></section><section class="article license">版权声明：如果转发请带上本文链接和注明来源。</section>
</div>
<div class="article bottom"><section class="article navigation"><p><a class="link" href="/posts/blog/githubaction/"><span class="iconfont icon-article"></span>使用 GitHub Action 推送博客到服务器</a></p><p><a class="link" href="/posts/life/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%96%9D%E9%85%92%E5%91%A2/"><span class="iconfont icon-article"></span>为什么要喝酒呢？</a></p></section></div></section><section id="footer"><div class="footer-wrap">
    <p class="copyright">©2022 Howe's Blog.</p>
    <p class="powerby"><span>Powered&nbsp;by&nbsp;</span><a href="https://gohugo.io" 
        target="_blank" rel="noopener noreferrer">Hugo</a><span>&nbsp;&amp;&nbsp;</span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank" rel="noopener noreferrer">Notepadium</a></p><p style="font-size: 12px;"><a href="http://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer">粤ICP备2021157990号</a></p></div>
<span style="display:flex;align-self: center;justify-content: center;">
本站由&nbsp;<a class="test" target="_blank" href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral" style="display:inline-block;text-decoration:none;height:20px;color:#939393;"><img src="https://pic.howe0116.com/img/upyun_logo.svg" width=48px style="float:left;margin: 2px 0px 0px 0px;">&nbsp;</a>提供加速服务</span>
</section></body>

</html>